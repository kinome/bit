<!DOCTYPE html>
<html lang="en" xmlns:m="http://www.w3.org/1998/Math/MathML">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Kinome Toolbox</title>
        <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <!-- Custom styles for this template -->
        <style>
            body {
              min-height: 100px;
              padding-top: 70px;
            }
            .scrollable-menu {
                height: auto;
                max-height: 200px;
                overflow-x: hidden;
            }
        </style>
    </head>
    <body class=" hasGoogleVoiceExt">

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="toHome navbar-brand" href="#">Kinome Toolbox</a>
        </div>
      </div>
    </nav>

    <div id="status" class="container">

    </div> <!-- /container -->

    <div id="main_page" class="container">
        <div class="text-center alert alert-info"><h2>This is the short URL generator for kinomecore.com</h2><h3>In <span id="count">5</span> seconds you will be taken to your redirect <span id="link">link</span>.</h3></div>
    </div> <!-- /container -->

    <div id="about_tab" style="display:none;" class="container">
        <div class="text-center alert alert-info"><h2>Welcome to about! More coming soon!</h2></div>
    </div>
</body>
    <div>
        <script src="./js/client/general/jquery-3.1.0.min.js"></script>
        <script src="./js/client/general/bootstrap.min.js"></script>
        <script type="text/javascript">
            
        (function () {
            'use strict';

            //bad practice, but the JS for this page is all here

            var shortenedURLs = {
                //figure 1, original paper, background normalization
                'fig1': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.1/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.1/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.1/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.1/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'fig2a': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'fig2b': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'tab1a': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.0.1/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'tab1b': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'tab2': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'fig3': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_2.1.2/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
                'p1_1.0.0': 'http://toolbox.kinomecore.com/?data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.0/73da1ee2-b131-4f39-b9a3-6732671e371b|5fc638d5-4f30-4ede-95e7-39604484f2e7|980cea72-aac2-4449-be32-34e298aeae50]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.0/701c1a18-9186-489c-885b-814971026293|8f04e89f-9bf8-458d-ab66-e29a9625502f|cc67029c-632b-430a-8f0c-093f6ff35d6e]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.0/d4079f36-44bb-410f-b44f-8d3c9e43fe73|cae11fa3-4271-4ec0-ac04-a7164c4b715a|deac26e4-9637-4e50-b8c3-728b609456ab]*&data=*[http://dbi.kinomecore.com:8000/db/kinome/lvl_1.0.0/07ad4ee1-4492-4a4b-8742-7448bdb9bd05|1bd412c2-d06f-437d-a104-08f8ad385c69|29b90f03-f9bd-43c9-8997-daab3406e07c]*',
            }

            var secondCount = 0, maxSeconds = 5;
            var urlKey = window.location.search.replace(/^\?/, '');
            var urlArr = urlKey.split('&');
            var params = "";
            if (urlArr.length > 1) {
                urlKey = urlArr.shift();
                params = urlArr.join('&');
            }
            var myURL = shortenedURLs[urlKey];

            //add in params
            if (params && myURL.match(/\?/)) {
                myURL = myURL + '&' + params;
            } else if (params) {
                myURL = myURL + '?' + params;
            }
            
            //Set clickable link
            $('#link').html('<a href="' + myURL + '">link</a>');

            //start count down
            var myInterval = setInterval(function () {
                secondCount += 1;
                if (secondCount >= maxSeconds) {
                    clearInterval(myInterval);
                    window.location.href = myURL;
                }
                $('#count').text(maxSeconds - secondCount);
            }, 1000);

        }());
        </script>
    </div>
</html>